{"version":3,"file":"static/js/820.3c5fc6dd.chunk.js","mappings":"uQACA,EAAyB,8BAAzB,EAA8D,4BAA9D,EAAkG,6BAAlG,EAAsI,4BAAtI,EAA0K,6BAA1K,EAA+M,6BAA/M,EAA4P,qCAA5P,EAAgT,oCAAhT,EAA6V,8BAA7V,EAAkY,4BAAlY,EAAqa,4BAAra,EAAwc,4B,SCKzb,SAASA,IACtB,OAAkCC,EAAAA,EAAAA,UAAS,CAAC,GAA5C,eAAOC,EAAP,KAAkBC,EAAlB,KACQC,GAAYC,EAAAA,EAAAA,MAAZD,QACFE,GAAWC,EAAAA,EAAAA,OAEjBC,EAAAA,EAAAA,YAAU,WACR,IAAMC,EAAY,mCAAG,qGACKC,EAAAA,EAAAA,IAAkBN,GADvB,OACbF,EADa,OAEnBC,EAAaQ,EAAkBT,IAFZ,2CAAH,qDAKlBO,GACD,GAAE,CAACL,IAEJ,IAAMO,EAAoB,SAAC,GAMpB,IALLC,EAKI,EALJA,YACAC,EAII,EAJJA,MACAC,EAGI,EAHJA,aACAC,EAEI,EAFJA,SACAC,EACI,EADJA,OAKA,MAAO,CACLC,WAAYL,EACZM,MALYJ,EAAaK,QAAQ,GAMjCN,MAAOA,EACPE,SAAUA,EACVC,OAPkBA,EAAOI,KAAI,SAAAC,GAAK,OAAIA,EAAMC,IAAV,IAAgBC,KAAK,MAS1D,EAEON,EAA+Cf,EAA/Ce,WAAYJ,EAAmCX,EAAnCW,MAAOK,EAA4BhB,EAA5BgB,MAAOH,EAAqBb,EAArBa,SAAUC,EAAWd,EAAXc,OAC5C,OACE,SAAC,EAAAQ,SAAD,CACEC,UACE,SAAC,KAAD,CACEC,SAAS,EACTC,OAAO,KACPC,MAAM,KACNC,UAAU,iBACVC,aAAc,CAAC,EACfC,aAAa,iBACbC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,aAT3D,UAaE,gCACE,SAAC,KAAD,CAAMC,UAAWC,EAAYC,GAAI7B,EAAS8B,MAA1C,SAAiD,YAGhDC,OAAOC,KAAKpC,GAAWqC,SACtB,iBAAKN,UAAWC,EAAhB,WACE,gBACED,UAAWC,EACXM,IAAG,yCAAoCvB,GACvCwB,IAAK5B,KAEP,iBAAKoB,UAAWC,EAAhB,WACE,4BACE,eAAID,UAAWC,EAAf,SAA2BrB,KAC3B,eAAGoB,UAAWC,EAAd,UAAyB,eAAahB,EAAM,QAC5C,eAAIe,UAAWC,EAAf,SAAkC,cAClC,cAAGD,UAAWC,EAAd,SAAiCnB,KACjC,eAAIkB,UAAWC,EAAf,SAA2B,YAC3B,uBAAIlB,QAEN,gBAAIiB,UAAWC,EAAf,WACE,eAAID,UAAWC,EAAf,UACE,SAAC,KAAD,CAAMD,UAAWC,EAAUC,GAAG,OAAOC,MAAO9B,EAAS8B,MAArD,SAA4D,YAI9D,eAAIH,UAAWC,EAAf,UACE,SAAC,KAAD,CAAMD,UAAWC,EAAUC,GAAG,UAAUC,MAAO9B,EAAS8B,MAAxD,SAA+D,wBAQzE,SAAC,KAAD,QAIP,C","sources":["webpack://react-homework-template/./src/pages/Moviesdetails.module.css?c0ff","pages/Moviesdetails.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"button\":\"Moviesdetails_button__LzVzY\",\"card\":\"Moviesdetails_card__fdA+c\",\"image\":\"Moviesdetails_image__-cPM7\",\"info\":\"Moviesdetails_info__1DH3k\",\"title\":\"Moviesdetails_title__Uvj+x\",\"score\":\"Moviesdetails_score__iejB5\",\"overviewTitle\":\"Moviesdetails_overviewTitle__DUBlz\",\"overviewText\":\"Moviesdetails_overviewText__1WYYP\",\"genres\":\"Moviesdetails_genres__cowf1\",\"list\":\"Moviesdetails_list__s0pmD\",\"item\":\"Moviesdetails_item__mV00p\",\"link\":\"Moviesdetails_link__miBEa\"};","import React, { useEffect, useState, Suspense } from 'react';\nimport { Link, Outlet, useParams, useLocation  } from 'react-router-dom';\nimport { fetchMovieDetails } from 'api/api';\nimport { ColorRing } from 'react-loader-spinner';\nimport css from './Moviesdetails.module.css';\n\nexport default function Moviesdetails() {\n  const [movieInfo, setMovieInfo] = useState({});\n  const { movieId } = useParams();\n  const location = useLocation();\n  \n  useEffect(() => {\n    const getMovieInfo = async () => {\n      const movieInfo = await fetchMovieDetails(movieId);\n      setMovieInfo(preparedMovieInfo(movieInfo));\n    };\n\n    getMovieInfo();\n  }, [movieId]);\n\n  const preparedMovieInfo = ({\n    poster_path,\n    title,\n    vote_average,\n    overview,\n    genres,\n  }) => {\n    const score = vote_average.toFixed(1);\n    const genresMovie = genres.map(genre => genre.name).join(', ');\n\n    return {\n      posterPath: poster_path,\n      score: score,\n      title: title,\n      overview: overview,\n      genres: genresMovie,\n    };\n  };\n\n  const { posterPath, title, score, overview, genres } = movieInfo;\n  return (\n    <Suspense\n      fallback={\n        <ColorRing\n          visible={true}\n          height=\"80\"\n          width=\"80\"\n          ariaLabel=\"blocks-loading\"\n          wrapperStyle={{}}\n          wrapperClass=\"blocks-wrapper\"\n          colors={['#e15b64', '#f47e60', '#f8b26a', '#abbd81', '#849b87']}\n        />\n      }\n    >\n      <section>\n        <Link className={css.button} to={location.state}>\n          Go Back\n        </Link>\n        {Object.keys(movieInfo).length && (\n          <div className={css.card}>\n            <img\n              className={css.image}\n              src={`https://image.tmdb.org/t/p/w500${posterPath}`}\n              alt={title}\n            />\n            <div className={css.info}>\n              <div>\n                <h2 className={css.title}>{title}</h2>\n                <p className={css.score}>User score: {score}%</p>\n                <h3 className={css.overviewTitle}>Overview</h3>\n                <p className={css.overviewText}>{overview}</p>\n                <h4 className={css.genres}>Genres</h4>\n                <p>{genres}</p>\n              </div>\n              <ul className={css.list}>\n                <li className={css.item}>\n                  <Link className={css.link} to=\"cast\" state={location.state}>\n                    Cast\n                  </Link>\n                </li>\n                <li className={css.item}>\n                  <Link className={css.link} to=\"reviews\" state={location.state}>\n                    Reviews\n                  </Link>\n                </li>\n              </ul>\n            </div>\n          </div>\n        )}\n        <Outlet />\n      </section>\n    </Suspense>\n  );\n}\n"],"names":["Moviesdetails","useState","movieInfo","setMovieInfo","movieId","useParams","location","useLocation","useEffect","getMovieInfo","fetchMovieDetails","preparedMovieInfo","poster_path","title","vote_average","overview","genres","posterPath","score","toFixed","map","genre","name","join","Suspense","fallback","visible","height","width","ariaLabel","wrapperStyle","wrapperClass","colors","className","css","to","state","Object","keys","length","src","alt"],"sourceRoot":""}