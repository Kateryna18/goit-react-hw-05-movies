{"version":3,"file":"static/js/530.a1ab42d9.chunk.js","mappings":"8PACA,GAAgB,KAAO,qBAAqB,MAAQ,sBAAsB,OAAS,uBAAuB,KAAO,qBAAqB,KAAO,sB,SCI9H,SAASA,IACtB,OAAoCC,EAAAA,EAAAA,UAAS,IAA7C,eAAOC,EAAP,KAAmBC,EAAnB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACMC,EAAQF,EAAaG,IAAI,SACzBC,GAAWC,EAAAA,EAAAA,OAGnBC,EAAAA,EAAAA,YAAU,WAAM,wCAGd,qGAC6BC,EAAAA,EAAAA,GAAuBL,GADpD,OACQM,EADR,OAEEV,EAAcU,GAFhB,4CAHc,sBACVN,GADU,mCAQdO,EACD,GAAE,CAACP,IAUF,OACE,gCACE,kBAAMQ,UAAWC,EAAAA,KAAUC,SATZ,SAACC,GACpBA,EAAEC,iBACF,IAAMC,EAAcF,EAAEG,cAAcC,SAASf,MAAMgB,MACnDjB,EAAgB,CAAEC,MAAOa,GAC1B,EAKK,WACE,kBAAOL,UAAWC,EAAAA,MAAWQ,KAAK,OAAOC,KAAK,QAAQC,YAAY,wCAClE,mBAAQX,UAAWC,EAAAA,OAAnB,SAA+B,eAEjC,eAAID,UAAWC,EAAAA,KAAf,gBAA0Bd,QAA1B,IAA0BA,OAA1B,EAA0BA,EAAYyB,KAAI,gBAAEC,EAAF,EAAEA,GAAIC,EAAN,EAAMA,MAAN,OAAiB,eAAId,UAAWC,EAAAA,KAAf,UAAkC,SAAC,KAAD,CAAMD,UAAWC,EAAAA,KAAUc,GAAE,UAAKF,GAAMG,MAAOtB,EAA/C,UAAyD,uBAAIoB,OAAjED,EAA/C,QAG/C,C","sources":["webpack://react-homework-template/./src/pages/Movies.module.css?d157","pages/Movies.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"form\":\"Movies_form__5L7s0\",\"input\":\"Movies_input__N3yRL\",\"button\":\"Movies_button__q3Y5z\",\"item\":\"Movies_item__XNubS\",\"link\":\"Movies_link__koirl\"};","import React, { useEffect, useState } from 'react';\nimport { Link, useLocation, useSearchParams } from \"react-router-dom\";\nimport { fetchSearchQueryMovies } from 'api/api';\nimport css from './Movies.module.css'\n\nexport default function Movies() {\n  const [listMovies, setListMovies] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const query = searchParams.get(\"query\");\n  const location = useLocation();\n\n\nuseEffect(() => {\n  if(!query) return;\n\n  async function fetchMoviesSearch() {\n    const moviesSearch = await fetchSearchQueryMovies(query);\n    setListMovies(moviesSearch);\n  }\n  \n  fetchMoviesSearch();\n}, [query]);\n\n\nconst handleSubmit = (e) => {\n  e.preventDefault();\n  const movieSearch = e.currentTarget.elements.query.value;\n  setSearchParams({ query: movieSearch});\n}\n\n\n  return (\n    <section>\n      <form className={css.form} onSubmit={handleSubmit}>\n        <input className={css.input} type=\"text\" name=\"query\" placeholder='Please enter the name of the movie'/>\n        <button className={css.button}>Search</button>\n      </form>\n      <ul className={css.list}>{listMovies?.map(({id, title}) => <li className={css.item} key={id}><Link className={css.link} to={`${id}`} state={location}><p>{title}</p></Link></li>)}</ul>\n    </section>\n  )\n}\n"],"names":["Movies","useState","listMovies","setListMovies","useSearchParams","searchParams","setSearchParams","query","get","location","useLocation","useEffect","fetchSearchQueryMovies","moviesSearch","fetchMoviesSearch","className","css","onSubmit","e","preventDefault","movieSearch","currentTarget","elements","value","type","name","placeholder","map","id","title","to","state"],"sourceRoot":""}